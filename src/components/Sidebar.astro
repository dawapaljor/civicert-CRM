---
// Sidebar component for admin dashboard
---

<aside class="fixed inset-y-0 left-0 z-50 w-64 bg-indigo-900 shadow-lg transform transition-transform duration-300 ease-in-out" id="sidebar">
  <!-- Logo -->
  <div class="flex items-center justify-center h-16 bg-indigo-800">
    <img src="image/icon-tai.png" alt="" class="w-10 h-10">
    <h1 class="text-white text-xl font-bold px-3">CiviCERT</h1>
    
  </div>

  <!-- Navigation -->
  <nav class="mt-5 px-2">
    <div class="space-y-1">
      <!-- Dashboard -->
      <a href="/" class="group flex items-center px-2 py-2 text-sm font-medium rounded-md text-indigo-300 hover:text-indigo-400">
        <i class="fas fa-tachometer-alt mr-3 text-indigo-300"></i>
        Dashboard
      </a>

      <!-- Add Dropdown -->
      <div class="relative">
        <button id="add-dropdown-toggle" class="group flex items-center justify-between w-full px-2 py-2 text-sm font-medium rounded-md text-indigo-300 hover:text-indigo-400">
          <div class="flex items-center">
            <i class="fas fa-user-alt mr-3 text-indigo-300"></i>
            Add
          </div>
          <i class="fas fa-chevron-down text-xs transition-transform duration-200" id="add-dropdown-arrow"></i>
        </button>
        
        <!-- Dropdown Menu -->
        <div id="add-dropdown-menu" class="hidden absolute left-0 right-0 mt-1 bg-indigo-800 rounded-md shadow-lg z-10">
          <div class="py-1">
            <a href="/add" class="block px-4 py-2 text-sm text-indigo-300 hover:bg-indigo-700 hover:text-white">
              <i class="fas fa-user-plus mr-2"></i>
              Add User
            </a>
            <a href="/users" class="block px-4 py-2 text-sm text-indigo-300 hover:bg-indigo-700 hover:text-white">
              <i class="fas fa-address-book mr-2"></i>
              View User
            </a>
            <a href="/add/organization" class="block px-4 py-2 text-sm text-indigo-300 hover:bg-indigo-700 hover:text-white">
              <i class="fas fa-building mr-2"></i>
              Add Organization
            </a>
            <a href="/add/event" class="block px-4 py-2 text-sm text-indigo-300 hover:bg-indigo-700 hover:text-white">
              <i class="fas fa-calendar-plus mr-2"></i>
              Add Event
            </a>
          </div>
        </div>
      </div>

      <a href="/users" class="group flex items-center px-2 py-2 text-sm font-medium rounded-md text-indigo-300 hover:text-indigo-400">
        <i class="fas fa-user-alt mr-3 text-indigo-300"></i>
        View User Entry
      </a>
      <!-- menu 2 -->
      <a href="#" class="group flex items-center px-2 py-2 text-sm font-medium rounded-md text-indigo-300 hover:text-indigo-400 ">
        <i class="fas fa-chart-line mr-3 text-gray-400 group-hover:text-gray-300"></i>
        Analytics
      </a>

      <!-- menu3  -->
      <a href="#" class="group flex items-center px-2 py-2 text-sm font-medium rounded-md text-indigo-300 hover:text-indigo-400 ">
        <i class="fas fa-users mr-3 text-gray-400 group-hover:text-gray-300"></i>
        Projects
      </a>

      <!-- menu 4 -->
      <a href="#" class="group flex items-center px-2 py-2 text-sm font-medium rounded-md text-indigo-300 hover:text-indigo-400 ">
        <i class="fas fa-box mr-3 text-gray-400 group-hover:text-gray-300"></i>
        Side Menu 4
      </a>

    <!-- Reports -->
      <a href="#" class="group flex items-center px-2 py-2 text-sm font-medium rounded-md text-indigo-300 hover:text-indigo-400 ">
        <i class="fas fa-file-alt mr-3 text-gray-400 group-hover:text-gray-300"></i>
        Reports
      </a>



    <!-- Divider -->
    <div class="mt-8 pt-8 border-t border-gray-200">
      <div class="space-y-1">
        <a href="#" class="group flex items-center px-2 py-2 text-sm font-medium rounded-md text-indigo-300 hover:text-indigo-400 ">
          <i class="fas fa-question-circle mr-3 text-gray-400 group-hover:text-gray-300"></i>
          Help & Support
        </a>
        <a href="#" class="group flex items-center px-2 py-2 text-sm font-medium rounded-md text-indigo-300 hover:text-indigo-400 ">
          <i class="fas fa-sign-out-alt mr-3 text-gray-400 group-hover:text-gray-300"></i>
          Logout
        </a>
      </div>
    </div>
  </nav>
</aside>

<!-- Mobile sidebar overlay -->
<div class="fixed inset-0 z-40 bg-gray-600 bg-opacity-75 hidden" id="sidebar-overlay"></div>

<script>
  // Mobile sidebar toggle functionality
  document.addEventListener('DOMContentLoaded', function() {
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('sidebar-overlay');
    const toggleButton = document.getElementById('sidebar-toggle');

    function toggleSidebar() {
      sidebar.classList.toggle('-translate-x-full');
      overlay.classList.toggle('hidden');
    }

    // Toggle sidebar when button is clicked
    if (toggleButton) {
      toggleButton.addEventListener('click', toggleSidebar);
    }

    // Close sidebar when overlay is clicked
    overlay.addEventListener('click', toggleSidebar);

    // Close sidebar on escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && !sidebar.classList.contains('-translate-x-full')) {
        toggleSidebar();
      }
    });

    // Add dropdown toggle functionality
    const addDropdownToggle = document.getElementById('add-dropdown-toggle');
    const addDropdownMenu = document.getElementById('add-dropdown-menu');
    const addDropdownArrow = document.getElementById('add-dropdown-arrow');

    if (addDropdownToggle && addDropdownMenu && addDropdownArrow) {
      addDropdownToggle.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        // Toggle dropdown visibility
        addDropdownMenu.classList.toggle('hidden');
        
        // Rotate arrow
        addDropdownArrow.classList.toggle('rotate-180');
      });

      // Close dropdown when clicking outside
      document.addEventListener('click', function(e) {
        if (!addDropdownToggle.contains(e.target) && !addDropdownMenu.contains(e.target)) {
          addDropdownMenu.classList.add('hidden');
          addDropdownArrow.classList.remove('rotate-180');
        }
      });

      // Close dropdown on escape key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && !addDropdownMenu.classList.contains('hidden')) {
          addDropdownMenu.classList.add('hidden');
          addDropdownArrow.classList.remove('rotate-180');
        }
      });
    }
  });
</script>
