---
// Header component for admin dashboard
---

<header class="bg-white shadow-sm border-b border-gray-200 dark:border-indigo-800 dark:bg-indigo-900">
  <div class="flex items-center justify-between px-4 py-3 sm:px-6 lg:px-8">
    <!-- Left side - Mobile menu button and title -->
    <div class="flex items-center">
      <!-- Mobile menu button -->
      <button type="button" class="lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" id="sidebar-toggle">
        <span class="sr-only">Open sidebar</span>
        <i class="fas fa-bars h-6 w-6"></i>
      </button>
      
      <!-- Page title -->
      <h1 class="ml-2 text-2xl font-semibold text-gray-900 dark:text-indigo-200 ">Dashboard</h1>
    </div>




    <!-- Right side - Search, notifications, and profile -->
    <div class="flex items-center space-x-4">
<!-- Dark/Light Mode Toggle (fixed: knob moves left <-> right) -->
<button
  id="theme-toggle"
  aria-label="Toggle Dark Mode"
  class="relative inline-flex h-7 w-14 items-center rounded-full transition-colors duration-300 focus:outline-none
         bg-yellow-400"
>
  <!-- Knob -->
  <span
    id="theme-toggle-knob"
    class="absolute left-0.5 top-0.5 h-6 w-6 rounded-full bg-white dark:bg-gray-200 transition-all duration-300 ease-in-out shadow-md
           flex items-center justify-center left-0.5"
  >
    <!-- Sun Icon (visible in light mode) -->
    <svg id="theme-toggle-light-icon" class="w-4 h-4 text-yellow-500 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M12 3v1m0 16v1m8.66-11.66l-.71.71M4.05 19.95l.71-.71M21 12h-1M4 12H3m15.66 7.66l-.71-.71M4.05 4.05l.71.71M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
    </svg>

    <!-- Moon Icon (visible in dark mode) -->
    <svg id="theme-toggle-dark-icon" class="w-4 h-4 text-indigo-700 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
        d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/>
    </svg>
  </span>
</button>






      <!-- Search -->
      <div class="hidden md:block">
        <div class="relative">
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <i class="fas fa-search text-gray-400"></i>
          </div>
          <input type="text" placeholder="Search..." class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-indigo-700 dark:text-indigo-100 rounded-md leading-5 bg-white dark:bg-indigo-950 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400  sm:text-sm">
        </div>
      </div>
      

      <!-- Notifications -->
      <div class="relative" x-data="{ notificationopen: false }">
        <button type="button" @click="notificationopen = !notificationopen" class="p-2 text-gray-400 hover:text-gray-500 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-indigo-700 rounded-full  ">
          <span class="sr-only">View notifications</span>
          <!-- <i class="fas fa-bell h-6 w-6"></i> -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
            <path fill-rule="evenodd" d="M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z" clip-rule="evenodd" />
          </svg>
          
          
          <!-- Notification badge -->
          <span class="absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white dark:ring-red-400"></span>
        </button>

        <!-- Notifications menu dropdown -->
        <div x-show="notificationopen" @click.away="notificationopen = false" x-transition:enter="transition ease-out duration-100" x-transition:enter-start="transform opacity-0 scale-95" x-transition:enter-end="transform opacity-100 scale-100" x-transition:leave="transition ease-in duration-75" x-transition:leave-start="transform opacity-100 scale-100" x-transition:leave-end="transform opacity-0 scale-95" 
        class=" origin-top-right absolute right-0 mt-2  rounded-md shadow-lg py-1 bg-white ring-1 ring-slate-300 ring-opacity-5 focus:outline-none z-50 w-72">
          
          <!-- Notification 1 -->
          <div class="flex items-start space-x-3 px-3 pt-3">
            <div class="flex-shrink-0">
              <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center">
                <i class="fas fa-user text-green-600 text-sm"></i>
              </div>
            </div>
            <div class="flex-1 min-w-0">
              <p class="text-xs text-gray-900 ">
                <span class="font-bold">Tenzin Added</span> 2 Users
              </p>
              <p class="text-xs text-gray-500">9:30 AM</p>
            </div>
          </div>

          <!-- Notification 2 -->
          <div class="flex items-start space-x-3 px-3 pt-3">
            <div class="flex-shrink-0">
              <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center">
                <i class="fas fa-trash text-blue-600 text-sm"></i>
              </div>
            </div>
            <div class="flex-1 min-w-0">
              <p class="text-xs text-gray-900">
                <span class="font-bold">Tenzin Added</span> 2 Users
              </p>
              <p class="text-xs text-gray-500">9:30 AM</p>
            </div>
          </div>

          <!-- view all notification -->
          <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 mt-2">  
            <i class="fas fa-eye mr-2"></i>
            View all
          </a>
        </div>
      </div>
  

      <!-- Profile dropdown -->
      <div class="relative" x-data="{ open: false }">
        <button @click="open = !open" type="button" class="flex items-center text-sm rounded-full focus:outline-none ">
          <span class="sr-only">Open user menu</span>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class=" h-9 w-9 rounded-full dark:fill-indigo-100">
            <path fill-rule="evenodd" d="M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" clip-rule="evenodd" />
          </svg>
          
          <span class="ml-2 text-gray-700 font-medium hidden sm:block dark:text-indigo-100">Tenzin</span>
          <i class="fas fa-chevron-down ml-1 text-gray-400"></i>
        </button>

        <!-- Dropdown menu Profile -->
        <div x-show="open" @click.away="open = false" x-transition:enter="transition ease-out duration-100" x-transition:enter-start="transform opacity-0 scale-95" x-transition:enter-end="transform opacity-100 scale-100" x-transition:leave="transition ease-in duration-75" x-transition:leave-start="transform opacity-100 scale-100" x-transition:leave-end="transform opacity-0 scale-95" 
        class="origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-slate-300 ring-opacity-5 focus:outline-none z-50">
          <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
            <i class="fas fa-user mr-2"></i>
            Your Profile
          </a>
          <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
            <i class="fas fa-cog mr-2"></i>
            Settings
          </a>
          <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
            <i class="fas fa-sign-out-alt mr-2"></i>
            Sign out
          </a>
        </div>
      </div>
    </div>
  </div>
</header>

<script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('theme-toggle');
    const knob = document.getElementById('theme-toggle-knob');
    const lightIcon = document.getElementById('theme-toggle-light-icon');
    const darkIcon = document.getElementById('theme-toggle-dark-icon');
  
    function enableDark() {
      document.documentElement.classList.add('dark');
      knob.classList.remove('left-0.5');
      knob.classList.add('left-7');
      lightIcon.classList.add('hidden');
      darkIcon.classList.remove('hidden');
      btn.classList.remove('bg-yellow-400');
      btn.classList.add('bg-indigo-600');
      localStorage.setItem('theme', 'dark');
    }
    function enableLight() {
      document.documentElement.classList.remove('dark');
      knob.classList.remove('left-7');
      knob.classList.add('left-0.5');
      lightIcon.classList.remove('hidden');
      darkIcon.classList.add('hidden');
      btn.classList.remove('bg-indigo-600');
      btn.classList.add('bg-yellow-400');
      localStorage.setItem('theme', 'light');
    }
  
    // Initial state (respect localStorage or system preference)
    if (
      localStorage.theme === 'dark' ||
      (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
    ) {
      enableDark();
    } else {
      enableLight();
    }
  
    // Toggle on click
    btn.addEventListener('click', () => {
      if (document.documentElement.classList.contains('dark')) {
        enableLight();
      } else {
        enableDark();
      }
    });
  });
  </script>
  



